<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width" />
		<meta charset="UTF-8">
		<title>活动详情</title>
		<link rel="stylesheet" href="https://unpkg.com/element-ui@2.2.2/lib/theme-chalk/index.css">
		<!--<link rel="stylesheet" href="../css/quill.core.css" />-->
		<link rel="stylesheet" href="../css/quill.snow.css" />
		<link rel="stylesheet" href="../css/public.css" />		
		<style type="text/css">		
			.activeEditTop{				
				margin-top: 20px;
			}	
			.activeEditTop .el-row{
				border: none;
			}
			.editType span{				
				font-size: 20px;
				height: 25px;
				overflow: hidden;
				color: #FF892F;
			}
			.activeEditTop a{
				display: block;
				width: 100px;
				font-size: 12px;
				color: #333;
				border: solid 1px #D4D4D4;
				border-radius: 5px;
				height: 25px;
				line-height: 25px;
				text-align: center;
				margin-top: 52px;
			}
			.tabListTT{
				margin: 20px auto; 
				width: 97.5%;
				display: flex;
				background: #fff;
			}
			.tabListTT li{
				width: 180px;
				text-align: center;
				cursor: pointer;
				padding: 20px 0;
				color: #333;				
			}
			.tabListTT li img{
				width: 32px;
				height: 32px;
				display: block;
				margin: 0 auto;				
			}
			.tabListTT li p{
				font-size: 12px;				
				height: 20px;
				line-height: 20px;
				margin-top: 8px;
			}
			.tabListTT li.show{
				background: #DB5050;
				color: #fff;
			}
			.activeDetail,.allContent{
				width: 97.5%;
				margin: 20px auto;
				background: #fff;
			}
			.activeDetail ul{
				margin: 0 auto;
				width: 880px;
				padding: 20px;
			}
			.activeDetail ul li{
				width: 440px;
				float: left;
				height:45px;
				margin-bottom: 10px;
			}
			.activeDetail ul li label,.activeTips label{
				width: 150px;
				text-align: right;
				display: inline-block;
			}
			.activeDetail ul li .el-date-editor.el-input{
				width: 200px;
			}
			.activeTips{
				padding: 20px;
				width: 880px;
				margin: 0 auto;
			}
			.activeTips label{
				display: block;
				float: left;
				line-height: 45px;
			}
			.activeTips > div{
				width: 642px;
			}
			#editor{
				height: 150px;
			}
			.bgf4{
				background: #F4F4F4;
			}
			.pd20{
				padding: 20px 0;
			}
			/*活动商品*/
			.fs14{
				font-size: 14px;
				font-weight: bold;
			}
			.activeGoodsList{
				background: #fff;
				margin-bottom: 20px;
			}
			.activeGoodsList > li{
				padding: 20px;
			}
			.activeGoodsImg .el-button,.activeGoodscont .el-button{
				width: 80px;
			}
			.activeGoodscont{
				padding-left: 100px;
			}
			.activeGoodscont > h2{
				border-bottom: solid 1px #D4D4D4;
				padding: 10px 0;
				margin-bottom: 10px;
				height: 40px;
				line-height: 40px;
				overflow: hidden;
			}

			.activeGoodscont > h2 span{
				display:block;
				width: 40px;
				height: 40px;
				margin-right: 10px;
				background:url(../images/activeGoodsFun1.png) no-repeat center;
				cursor: pointer;
			}
			.activeGoodscont > h2 span.delete:hover{
				background-image: url(../images/activeGoodsFun1-1.png);
			}
			.activeGoodscont > h2 span.sortDown{
				background-image: url(../images/activeGoodsFun3.png);
			}
			.activeGoodscont > h2 span.sortDown:hover{
				background-image: url(../images/activeGoodsFun3-1.png);
			}
			.activeGoodscont > h2 span.sortUp{
				background-image: url(../images/activeGoodsFun2.png);
			}
			.activeGoodscont > h2 span.sortUp:hover{
				background-image: url(../images/activeGoodsFun2-1.png);
			}
			.activeGoodscont ul{
				width: 560px;
			}
			.activeGoodscont li{
				float: left;
				width: 280px;
				padding: 5px 0;
				color: #333;
			}
			.activeGoodscont li span{
				display: inline-block;
				width: 80px;
				text-align: right;
				color: #828282;
			}
			.activeGoodscont li:nth-child(2n) span{
				width: 150px;
			}
			.activeGoodscont li:last-child{
				width: 100%;
			}
			.el-button:hover{
				color: #fff;
				background: #DB5050;
			}
			.activeGoodscont .el-button{
				margin: 0;
			}
		</style>
	</head>
	<body>
		<div id="activeEdit" class="erp_content wp" v-clock >
			<!--头部-->
			<div class="activeList activeEditTop">
				<el-row>
				  	<el-col :span="11">
					  	<img src="../images/im.png"/>
					  	<div class="one">
					  		<h2>{{activeData.eventName}}</h2>
					  		<p>{{activeData.eventTypeId}}</p>
					  		<p><i class="el-icon-time"></i>{{activeData.beginTime}} 至 {{activeData.endTime}}</p>
				  		</div>				  	
				  	</el-col>
					<el-col :span="3"><div class="pt55">剩余数量：{{activeData.nyEventPrizes != undefined ? activeData.nyEventPrizes.countTotal : ''}}</div></el-col>
					<el-col :span="3"><div class="pt55">中奖数量：{{activeData.nyEventPrizes != undefined ? activeData.nyEventPrizes.countLeft :''}}</div></el-col>					
					<el-col :span="2" style="text-align: center;">
				  		<div class="pt55 editType"><span>●</span>未开始</div>
				    </el-col>
				    <el-col :span="2"><div class="pt55"></div></el-col>
				    <el-col :span="3">	
				    	<a href="javascript:history.go(-1)">查看更多活动</a>
				    </el-col>
				</el-row>
			</div>
			<!--切换效果-->
			<ul class="tabListTT clear">
				<li v-for="item in tabList"  :class="showPart == item.id ? 'show':''" @click="changeShow(item.id)">
					<img :src="showPart == item.id ? item.showImg : item.img"/>
					<p>{{item.label}}</p>
				</li>
			</ul>
			<!--设置内容-->
			<div class="activeDetail" v-if="showPart == 1">
				<ul class="clear">
					<li>
						<label>活动表现形式：</label>
						<el-select v-model="pAdd.couponType">
						    <el-option
						      v-for="item in pAdd.activityForm"
						      :key="item.value"
						      :label="item.label"
						      :value="item.value">
						    </el-option>
						</el-select>
					</li>
					<li>
						<label>中奖提示：</label>
						<el-input type="text" v-model="pAdd.activeName"></el-input>
						<!--<input type="text" :value="pAdd.activeName" />-->
					</li>
					<li>
						<label>活动类型：</label>
						<el-select v-model="pAdd.couponType">
						    <el-option
						      v-for="item in pAdd.activityType"
						      :key="item.value"
						      :label="item.label"
						      :value="item.value">
						    </el-option>
						</el-select>
					</li>
					<li>
						<label>未中奖提示：</label>
						<el-input type="text" v-model="pAdd.activeName"></el-input>
						<!--<input type="text" :value="pAdd.activeName" />-->
					</li>
					<li>
						<label>活动名称：</label>
						<el-input type="text" v-model="pAdd.activeName"></el-input>
						<!--<input type="text" :value="pAdd.activeName" />-->
					</li>
					<li>
						<label>未开始提示：</label>
						<el-input type="text" v-model="pAdd.activeName"></el-input>
						<!--<input type="text" :value="pAdd.activeName" />-->
					</li>
					<li>
						<label>开始时间：</label>
						<el-date-picker
					      v-model="pAdd.startTime"
					      type="datetime"
					      placeholder="选择日期时间">
					    </el-date-picker>
					</li>
					<li>
						<label>已结束提示：</label>
						<el-input type="text" v-model="pAdd.activeName"></el-input>
						<!--<input type="text" :value="pAdd.activeName" />-->
					</li>
					<li>
						<label>结束时间：</label>
						<el-date-picker
					      v-model="pAdd.endTime"
					      type="datetime"
					      placeholder="选择日期时间">
					    </el-date-picker>
					</li>					
					<li>
						<label>活动周期：</label>
						<el-select v-model="pAdd.couponType">
						    <el-option
						      v-for="item in pAdd.activityType"
						      :key="item.value"
						      :label="item.label"
						      :value="item.value">
						    </el-option>
						</el-select>
					</li>
					<li>
						<label>展示时间：</label>
						<el-date-picker
					      v-model="pAdd.showTime"
					      type="datetime"
					      placeholder="选择日期时间">
					    </el-date-picker>
					</li>
					<li>
						<label>每周期每人抽奖次数：</label>
						<el-input type="text" v-model="pAdd.activeName"></el-input>
						<!--<input type="text" :value="pAdd.activeName" />-->
						<span>（0为不限）</span>
					</li>					
					<li>
						<label>失效时间：</label>
						<el-date-picker
					      v-model="pAdd.failureTime"
					      type="datetime"
					      placeholder="选择日期时间">
					    </el-date-picker>
					</li>
					<li>
						<label>每次抽奖抵扣积分：</label>
						<el-input type="text" v-model="pAdd.activeName"></el-input>
						<!--<input type="text" :value="pAdd.activeName" />-->
					</li>					
				</ul>
				<div class="activeTips clear">
					<label>活动描述：</label>
					<!--<textarea ></textarea>-->
					<div class="fl">
						<div id="editor">
						  <p>Hello World!</p>
						  <p>Some initial <strong>bold</strong> text</p>
						  <p><br></p>
						</div>
					</div>
					
				</div>				
				<div class="btnPart bgf4 pd20">
	                <el-button type="search" round @click="submitData">确定</el-button>
	           </div>
				
			</div>
			<!--活动奖品-->
			<div class="allContent bgf4" v-if="showPart == 2">
				<div class="clear bgf4 pd20">
					<div class="btnPart bgf4 fr">
		                <el-button round @click="exportPrizePool">导出奖品池</el-button>
		                <!--<el-button round @click="setPrizePool">设置奖品池</el-button>
		                <el-button round @click="addGoods">添加奖品</el-button>-->
		           	</div>
					<h2 class="fl fs14">奖品设置</h2>
				</div>
				<ul class="activeGoodsList">
					<li class="clear">
						<div class="activeGoodsImg fl">
							<img src="../images/im.png"/>
							<el-upload
	                            class="avatar-uploader"
	                            action='http://jjdcjavaweb.oss-cn-shanghai.aliyuncs.com'
	                            :data="Token"
	                            :show-file-list="false"
	                            :on-success="handleAvatarSuccess"
	                            :before-upload="beforeAvatarUpload">
		                        <el-button round size="small" type="search">上传图片</el-button>
	                    	</el-upload>
						</div>
						<div class="activeGoodscont">
							<h2 class="fs14 clear">
								<span class="fr sortDown"></span>
								<span class="fr sortUp"></span>
								<span class="fr delete" @click="delectFun"></span>
								100元优惠券									
							</h2>
							<div class="clear">
								<div class="fr">
									<el-button round size="small" @click="downloadTemplate">下载模板</el-button>
									<el-button round size="small">导入券码</el-button>
									<el-button round size="small">编辑</el-button>
								</div>
								<ul class="fl">
									<li><span>奖品名称：</span>100元优惠券</li>
									<li><span>奖品类型：</span>100元优惠券</li>
									<li><span>奖品数量：</span>6000</li>
									<li><span>优惠券指定类型：</span>100元优惠券</li>
									<li><span>奖品描述：</span>100元优惠券100元优惠券100元优惠券100元优惠券100元优惠券</li>
								</ul>
							</div>
							
						</div>
					</li>
				</ul>
				<!--<el-pagination style="margin-bottom: 20px;" 
					@size-change="handleSizeChange" 
					@current-change="handleCurrentChange" 
					:current-page="pagination.pageNo" 
					:page-sizes="pagination.pageSizes" 
					:page-size="pagination.pageSize" 
					layout="total, sizes, prev, pager, next, jumper" 
					:total="pagination.count">
				</el-pagination>-->
				
			</div>
			<!--中奖名单-->
			<div v-if="showPart == 3">
				<!--ID、手机号、中奖类型（优惠券、积分、现金）、面额、获得时间、优惠券码；-->
				<el-table :data="winningList" border style="margin: 20px auto; width: 97.5%;">
					<el-table-column align="center" prop="id" label="id" v-if=0 >
					</el-table-column>
					<el-table-column align="center" prop="id" label="ID" width="300">
					</el-table-column>
					<el-table-column align="center" prop="tUserInfo.phone" label="手机号">
					</el-table-column>
					<el-table-column align="center" prop="nyEventPrizes.prizeTypeId" label="中奖类型">
					</el-table-column>
					<el-table-column align="center" prop="nyEventPrizes.price" label="面额">
					</el-table-column>
					<el-table-column align="center" prop="createDate" label="获得时间">
					</el-table-column>
					<el-table-column align="center" prop="appearNo" label="优惠券码">
					</el-table-column>
				</el-table>
				<!--描述：分页-->
				<el-pagination style="margin-bottom: 20px;" 
					@size-change="handleSizeChange" 
					@current-change="handleCurrentChange" 
					:current-page="pagination.pageNo" 
					:page-sizes="pagination.pageSizes" 
					:page-size="pagination.pageSize" 
					layout="total, sizes, prev, pager, next, jumper" 
					:total="pagination.count">
				</el-pagination>
			</div>			
			<!--描述：弹窗-->
			<div id="fixedBg" v-show="fBgIsShow"></div>

		</div>
		<script type="text/javascript" src="../js/quill.js" ></script>
		<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<!--		<script type="text/javascript" src="../js/quill.core.js" ></script>-->
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<script src="https://unpkg.com/element-ui@2.2.2/lib/index.js"></script>		
		<script type="text/javascript" src="../js/public.js"></script>
		<script type="text/javascript" src="../js/activeEdit.js"></script>
	</body>
</html>